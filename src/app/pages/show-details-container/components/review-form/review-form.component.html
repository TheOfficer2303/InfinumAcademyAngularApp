<div class="card" color="primary">
	<form [formGroup]="reviewForm">
	
		<mat-form-field class="comment" appearance="outline">
			<mat-label>Enter review</mat-label>
			<textarea matInput formControlName="comment"></textarea>
			<mat-error *ngIf="reviewForm.get('comment')?.errors?.required">Cannot be empty</mat-error>
		</mat-form-field>

		<div class="post">
			<div class="star-post">
				<div class="stars">

					<div class="text-stars">
						<span class="rating-text">Rating</span>
						<ng-container *ngFor="let rating of (rating$ | async)">
							<label>
								<mat-icon class="star"> {{ rating.star }} </mat-icon>
								<input (click)="giveRating(rating.value)" type="radio" formControlName="rating" class="hidden-radio" [value]="rating.value">
							</label>
						</ng-container>
					</div>
					<mat-error *ngIf="reviewForm.get('rating')?.errors?.required">Cannot be unselected</mat-error>
				</div>
				<button mat-raised-button color="primary" class="button" (click)="onPost()" [disabled]="reviewForm.invalid">Post</button>
			</div>	
		</div>
	</form>
</div>

